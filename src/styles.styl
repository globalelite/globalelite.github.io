// Variable ---------------------------------------------------------------------

// Basic
ratio = 1.618

// Text size
ratio-text = 1
ratio-text-huge = (ratio-text * ratio)
ratio-text-large = ((ratio-text + ratio-text-huge) / 2)
ratio-text-small = (ratio-text-large / ratio)

// Line height
line-height = ratio
line-height-small = (line-height * 0.8)

// Margin
margin = (ratio * 1rem)

// Core
ratio-text-root = ratio-text
ratio-text-root-large = ((ratio-text-large - ratio-text) / 4 + ratio-text)
ratio-text-root-huge = ((ratio-text-large - ratio-text) / 2 + ratio-text)
line-height-root = line-height

// Content
width-gap = (1rem / ratio)
width-label = 6rem
width-image = 10rem
width-content = 32rem
width-content-large = (width-content + width-label)
width-content-huge = (width-content-large + width-image + margin)
width-scrollbar = 2rem

// Breakpoint
breakpoint-large = ((width-content-large + width-gap * 4) * ratio-text-root-large / ratio-text-root + width-scrollbar)
breakpoint-huge = ((width-content-huge + width-gap * 4) * ratio-text-root-huge / ratio-text-root + width-scrollbar)

// Styles -----------------------------------------------------------------------

@font-face
  font-family 'Ruthless Wreckin ONE'
  src url('RuthlessWreckin1.woff') format('woff'), url('RuthlessWreckin1.ttf') format('truetype')

html
  font-family serif
  font-size (ratio-text-root * 100%)
  line-height line-height-root
  font-feature-settings 'palt'

body
  background-color #000
  color #999

a
  color #ccc
  text-decoration none

  &:hover
    text-decoration underline

img
  vertical-align bottom

h1 > img
  vertical-align middle

  + img
    margin-left 12px

h2
dt
  color #eee

ul
  list-style-type none
  padding-left 0

  &.inline > li
    display inline-block
    margin-left .5em

    &:first-child
      margin-left 0

dd
  margin-left 0
  margin-bottom .5em

  ul
    margin-top 0
    margin-bottom 0

figure
  margin-left 0
  margin-right 0

figure
body > footer
  text-align center
  overflow hidden

body > footer
  color #666
  font-size 85%

container-selectors = "body > header, body > main > article, body > main > form, body > aside, body > footer"

{container-selectors}
  margin-left auto
  margin-right auto
  max-width width-content
  padding-left width-gap
  padding-right width-gap

@media (min-width: breakpoint-large)
  html
    font-size (ratio-text-root-large * 100%)

  {container-selectors}
    max-width width-content-large

  dt
    width width-label
    float left

  dd
    margin-left width-label

@media (min-width: breakpoint-huge)
  html
    font-size (ratio-text-root-huge * 100%)

  {container-selectors}
    max-width width-content-huge

  main figure
    margin-top 0
    float left

    + dl
      margin-left (width-image + margin)

body > main > article
body > aside
  &::after
    display block
    content ''
    margin-left auto
    margin-right auto
    border-style none
    width 25%
    max-width 8em
    height 10px
    background-image linear-gradient(#666, #666 33.33%, transparent 33.33%, transparent 100%)
    background-size 100% 3px

.btn
  btn-border-color = rgba(0,0,0,0.2)
  btn-font-rate = 0.8
  btn-icon-rate = 1.6
  btn-size = 2em
  btn-padding-size = .5em

  font-size 100% * btn-font-rate
  display inline-block
  height btn-size
  line-height btn-size
  white-space nowrap
  vertical-align middle
  cursor pointer
  user-select none
  padding 0 btn-padding-size
  border 1px solid btn-border-color
  border-radius 4px

  &:hover
    text-decoration none

  > .fa:first-child
    btn-icon-size = btn-size / btn-icon-rate
    btn-icon-padding-size = btn-padding-size / btn-icon-rate
    font-size 100% * btn-icon-rate
    display inline-block
    width btn-icon-size
    height 100%
    vertical-align bottom
    line-height btn-icon-size
    text-align center
    margin-left -1 * btn-icon-padding-size
    margin-right btn-icon-padding-size
    border-right 1px solid btn-border-color

.btn-amazon
  color #fff
  background-color #eb8c11

.btn-twitter
  color #fff
  background-color #1b95e0

body > main > article.splash
  max-width initial
  padding-left 0
  padding-right 0

.splash
  position relative
  text-align center
  overflow hidden

  .bgm
    display none
    position absolute
    font-size 85%
    left 1em
    top 1em
    padding .5em
    border-radius 2em
    background #333

    > .bgm-action
      display inline-block
      text-align center
      width 1.5em

    > .bgm-source
      display none

    &:hover > .bgm-source
      display inline

  canvas
    width 100%

    &[width='0']
      display none

    &:not([width='0'])
      margin-bottom margin

      + h2
        position absolute
        top 50%
        left margin
        right margin
        margin (margin / -2) 0 0
        transform translate(0, -50%)

  h2
    font-family 'Ruthless Wreckin ONE'
    font-size 2em

    @media (min-width: breakpoint-huge)
      font-size (2em * (breakpoint-huge / breakpoint-large))
